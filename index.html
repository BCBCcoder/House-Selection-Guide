<!-- This is the HTML file for the custom home selection sheet. Make a selection and let the client choose it from the pdf things. -->

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Home Selection Sheet</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800">

<div id="app" class="max-w-md mx-auto bg-white min-h-screen shadow-lg">
    <header class="bg-blue-600 text-white p-4 sticky top-0 z-10">
        <h1 class="text-xl font-bold">House Selection Sheet</h1>
        <p class="text-sm opacity-90">58 Wharenui Rd</p>
    </header>

    <div class="p-4 space-y-4">
        
        <div v-for="(category, cIndex) in specData" :key="cIndex" class="border rounded-lg overflow-hidden bg-white shadow-sm">
            
            <div @click="toggleCategory(cIndex)" class="bg-gray-50 p-3 flex justify-between items-center cursor-pointer hover:bg-gray-100">
                <h2 class="font-bold text-lg">{{ category.title }}</h2>
                <span class="text-gray-400">{{ category.open ? '▼' : '▶' }}</span>
            </div>

            <div v-show="category.open" class="p-3 border-t">
                
                <div v-if="category.contact" class="mb-4 text-sm bg-blue-50 p-2 rounded text-blue-800">
                    <p class="font-bold">Contact:</p>
                    <p v-html="category.contact"></p>
                </div>

                <div class="space-y-3">
                    <div v-for="(item, iIndex) in category.items" :key="iIndex">
                        <p class="font-medium mb-1">{{ item.name }}</p>
                        
                        <div v-if="item.type === 'radio'" class="space-y-1">
                            <label v-for="(opt, oIndex) in item.options" :key="oIndex" class="flex items-center space-x-2">
                                <input type="radio" :name="category.id + '-' + iIndex" :value="opt.label" v-model="item.selected" class="form-radio text-blue-600">
                                <span>
                                    {{ opt.label }} 
                                    <span v-if="opt.price" class="text-xs text-gray-500">({{ opt.price }})</span>
                                </span>
                            </label>
                        </div>

                        <div v-if="item.type === 'text'">
                            <input type="text" v-model="item.selected" placeholder="Enter your choice here..." class="w-full border p-2 rounded">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="p-4 border-t sticky bottom-0 bg-white">
        <button @click="generateReport" class="w-full bg-green-600 text-white py-3 rounded-lg font-bold text-lg shadow hover:bg-green-700">
            Export Selections (Copy to Send)
        </button>
    </div>

    <div v-if="showResult" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-lg p-4 w-full max-w-sm space-y-4">
            <h3 class="font-bold text-lg">Your Selections</h3>
            <textarea readonly class="w-full h-48 border p-2 text-sm" id="resultText">{{ resultText }}</textarea>
            <p class="text-xs text-gray-500">Copy the text above and email/WeChat it to us.</p>
            <div class="flex space-x-2">
                <button @click="copyText" class="flex-1 bg-blue-600 text-white py-2 rounded">Copy</button>
                <button @click="showResult = false" class="flex-1 bg-gray-300 text-gray-800 py-2 rounded">Close</button>
            </div>
        </div>
    </div>

</div>

<script>
    const { createApp } = Vue

    createApp({
        data() {
            return {
                showResult: false,
                resultText: '',
                specData: [
                    {
                        id: 'internal_doors',
                        title: '01 - Internal Doors ',
                        open: false,
                        contact: null,
                        items: [
                            {
                                name: 'Site Plan Approval',
                                type: 'radio',
                                selected: '',
                                options: [
                                    { label: '#1 Final Site Plan Approved', price: '$0.00' }, // 
                                    { label: 'Pending', price: '' }
                                ]
                            }
                        ]
                    },
                    {
                        id: 'windows_doors',
                        title: '02 - Exterior Windows & Doors',
                        open: false,
                        contact: 'Paul Rosendale (Pella)<br>Cell: 937-603-9238<br>Email: prosendale@pelladayton.com<br>Web: www.pella.com', 
                        items: [
                            {
                                name: 'Window Package Choice',
                                type: 'radio',
                                selected: '',
                                options: [
                                    { label: '#1 Pella Windows per Specs', price: '$0.00' }, // 
                                    { label: '#2 Pella Windows with Changes', price: 'TBD' } // 
                                ]
                            }
                        ]
                    },
                    {
                        id: 'door_hardware',
                        title: '03 - Door Hardware',
                        open: false,
                        contact: 'Devol Millwork (Custom) or Paul Rosendale (Pella)', 
                        items: [
                            {
                                name: 'Front Door Selection',
                                type: 'radio',
                                selected: '',
                                options: [
                                    { label: '#1 Custom Door (Devol)', price: 'TBD' }, // 
                                    { label: '#2 Pella Front Door (Fiber-Classic)', price: 'TBD' } // 
                                ]
                            },
                            {
                                name: 'Garage Door into Mud Room', // 
                                type: 'text',
                                selected: '' 
                            }
                        ]
                    },
                    {
                        id: 'carpet',
                        title: '04 - Carpet',
                        open: false,
                        contact: 'John Redden (Appliance Gallery): 937-534-1105<br>Mike Balsom (Custom Dist.): 937-384-7804', // 
                        items: [
                            {
                                name: 'Appliance Package',
                                type: 'radio',
                                selected: '',
                                options: [
                                    { label: '#1 Appliance Package', price: 'TBD' }, // 
                                    { label: 'I do not want this selection', price: '$0.00' }
                                ]
                            },
                            {
                                name: 'Kitchen Cooktop', // 
                                type: 'text',
                                selected: '' 
                            }
                        ]
                    },
                     {
                        id: 'appliances',
                        title: '05 - Appliances ',
                        open: false,
                        contact: 'Bruce Landes: 937-473-3293', // 
                        items: [
                            {
                                name: 'Kitchen Cabinet Style',
                                type: 'text',
                                selected: '' 
                            }
                        ]
                    }
                ]
            }
        },
        methods: {
            toggleCategory(index) {
                this.specData[index].open = !this.specData[index].open;
            },
            generateReport() {
                let report = "CLIENT SELECTION SHEET\n----------------------\n";
                this.specData.forEach(cat => {
                    let hasSelection = false;
                    let catText = `[${cat.title}]\n`;
                    
                    cat.items.forEach(item => {
                        if(item.selected) {
                            hasSelection = true;
                            catText += ` - ${item.name}: ${item.selected}\n`;
                        }
                    });

                    if(hasSelection) {
                        report += catText + "\n";
                    }
                });
                
                if (report === "CLIENT SELECTION SHEET\n----------------------\n") {
                    this.resultText = "No selections made yet.";
                } else {
                    this.resultText = report;
                }
                this.showResult = true;
            },
            copyText() {
                const copyText = document.getElementById("resultText");
                copyText.select();
                document.execCommand("copy");
                alert("Selections copied! Now paste them in an email to us.");
            }
        }
    }).mount('#app')
</script>
</body>
</html>
